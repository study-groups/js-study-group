<!DOCTYPE HTML>
<html>
<head>
<style>
body{
  margin:1em;
  padding:1rem 20% 0 2rem;
  font-size:18pt;
  font-family:courier;
  line-height:140%;
  position:static;
}
p {
  margin:2em;
}
pre, ol{
  margin-left:3em;
}
a{
  font-weight:bold;
  text-decoration:none;

}
</style>
</head>
<body>
<nav>
<a href="https://github.com/study-groups/js-study-group/joystick/">
home</a> | 
<a href="https://github.com/study-groups/js-study-group/joystick/">
github </a>
| ver-001
</nav>
<h1>Joystick</h1>

<h2>Summary</h2>
<p>
<b>joystick</b> is a real-time, asynchronous PubSub model for 
manipulating style properties of DOM elements.
</p>

<h2>DevOps</h2>
<p>
A daemon process running <a href="http://websocketd.com/">websocketd</a>
on Digital Ocean or Vercel (if possible) on port 9200
</p>

<h2>User Story</h2>
<p>
<b>Scenario:</b> a user would like to modify the size and color of a 
font on a webpage they are editing. To do this, they add:

</p>
<pre>
&lt;script src="./assets/cssPubSub.js"&gt;
  cssPubSub.subscribe('elementId','color');
&lt;/script&gt;
</pre>
<p>
This will generate link at the bottom of the page that 
takes you the joystick server app using a key in the URL.
</p>
<pre>https://joystick.study-groups.org?csskey="freshHash"
</pre> 
<p>
The joystick app page will present a sqaure element that tracks the 
thumb and sends to the server.
</p>
<p>
Server sends update to all pages that are subscribed via 
<b>WebSocket</b>.
<b>cssPubSub.onEvent()</b> dispatches to right 
<b>handleCssEvent()</b> defined by user to change css value in real time.
</p>

<h2>Sketches</h2>
<p>
<div style="width:60%">
  <div style="width:40%">
    $sketch_component
  </div>
  Thumb control data sent to server and published to cssPubSub listeners
</div>

</p>

$heart_component
<h2>References</h2>
<p>
<ul>
    <li><a href="https://cloud.google.com/pubsub/docs/overview">
            Pub/Sub described at Google</a>
    <li>
        <a href="https://github.com/robinpokorny/dead-simple">
            Good implementation of PubSub</a>
    </li>
    <li>
        <a href="https://en.wikipedia.org/wiki/WebSocket">
            WebSocket at Wikipedia</a>
    </li>
    <li>
        <a href="https://developer.mozilla.org/en-US/docs/Web/API/WebSocket">
       WebSocket at MDN</a>
    </li>
</ul>
</p>
</div>
</body>
<script>
$javascript_lib
(function(){ 

$javascript_init

cssPubSub=CssPubSub();
})();
</script>
</html>
