<!DOCTYPE html>
<html>
<head>
<style>
.terminal-text{
    color:red;
}
</style>
<script 
    crossorigin 
    src="https://unpkg.com/react@16/umd/react.development.js"
></script>
<script
    crossorigin
    src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"
></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/react-markdown/4.3.1/react-markdown.js"
        integrity="sha512-uVjoOKL4IHlUC7gc0LuPfhTqvJBi37Uff7EC3s4tXAZp0rgskDv40jgOIvv3ImoPFZyCwUtsQ4VQ1SRXKHyrXQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer">
</script>
<script
    crossorigin
    src="https://unpkg.com/babel-standalone@6.26.0/babel.js"
></script>

<script 
    src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.4/axios.min.js" 
    integrity="sha512-lTLt+W7MrmDfKam+r3D2LURu0F47a3QaW5nF0c6Hl0JDZ57ruei+ovbg7BrZ+0bjVJ5YgzsAWE+RreERbpPE1g==" 
    crossorigin="anonymous" 
    referrerpolicy="no-referrer"
></script>
<style>

</style><script type="text/babel">
const API="http://localhost:5555/api"
function Cli(props) {
    const text=props.text;
    const setText=props.setText;
    //const [text, setText] = React.useState("");
    // single - the input is interpreted as a single string
    // each - the input is interpreted as each word 
    // and sent in an array
    const [cliText, setCliText] = React.useState("enter cmd");
    const [analysis, setAnalysis] = React.useState("");  

    // submit entire text string for single analysis
    async function handleSubmit(e) {
        e.preventDefault();
        const {data} = 
            await axios.get(
                API,
                { data: text }
            );
        setText(JSON.stringify(data));
        setCliText("");
        return;

    }
  
    function handleChange(e) {
            setCliText(e.target.value);
    }

 
    return (
        <div>
            <form onSubmit={handleSubmit}  >
                <input  onChange={handleChange} type="text" value={cliText} />
                <input type="submit" value="Analyze" />
            </form>
            <div>
                {analysis}
            </div>
        </div>
    );
}
</script><script type="text/babel">

function Terminal(props) {
    return (
        <div className="terminal-text">
        {props.text}
        </div>
    );
}

</script>
</head>
<body>
<div id='root'></div>
<script type="text/babel">
const content=`
- Client: React, ReactMarkdown
- Server: Express, read/write time-series data files.
`
function App() {
    const [out, setOut] = React.useState("out Default");
    return (
        <div>
            <ReactMarkdown>{"# Dashboard"}</ReactMarkdown>
            <Cli text={out} setText={setOut} />
            <Terminal text={out}/>
            <ReactMarkdown>{content}</ReactMarkdown>

        </div>
    );
}
const mountPoint = document.getElementById("root");
ReactDOM.render(<App />, mountPoint);
</script>
</body>
<footer>
</footer>
</html>